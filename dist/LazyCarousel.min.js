!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("es6-promise"),require("my-utils")):"function"==typeof define&&define.amd?define(["es6-promise","my-utils"],e):"object"==typeof exports?exports.LazyCarousel=e(require("es6-promise"),require("my-utils")):t.LazyCarousel=e(t.ES6Promise,t.utils)}(this,function(t,e){return function(t){function e(s){if(i[s])return i[s].exports;var n=i[s]={exports:{},id:s,loaded:!1};return t[s].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="/dist/",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.keyHandlerDecorator=e.swipeDecorator=void 0;var n=i(2),r=s(n),o=i(8),a=s(o),h=i(9),l=s(h);e.default=r.default,e.swipeDecorator=a.default,e.keyHandlerDecorator=l.default},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e,i){for(var s=e||[],n=i||"id",r=0,o=s.length;r<o;r++)if(s[r][n]==t)return{index:r,data:s[r]};return null}function r(t,e){var i=t,s=t<0?-1:1,n=Math.floor(Math.abs(t/e));return s<0?(n++,i=t-e*n*s,r(i,e)):i=t-e*n*s}function o(t,e,i,s,n){var o,a,h,l,p=-1,u=[],d=[];o=Math.floor(s/2),a=s-o,n&&o===a&&(o--,a++);for(var c=e,f=0;f<a;c++,f++)h=r(c,i),u.push(h);for(var v=e-1,m=0;m<o;v--,m++)h=r(v,i),d.push(h);return l=d.reverse().concat(u),l.forEach(function(e,i){e===t&&(p=i)}),p}function a(t,e,i,s,n){var o,a,h,l,p=-1,u=[],d=[];o=Math.floor(s/2),a=s-o,n&&o===a&&(o--,a++);for(var c=e,f=0;f<a;c++,f++)h=r(c,i),u.push(h);for(var v=e-1,m=0;m<o;v--,m++)h=r(v,i),d.push(h);return l=d.reverse().concat(u),"undefined"!=typeof l[t]&&(p=l[t]),p}function h(t,e,i,s,n){var o,a,h,l,p,u={list:[]},d=i+2*s,c=[],f=[];if(!t||!t.length)return u;o=t.length,d=Math.min(d,o),n&&(d=o,e=0),a=Math.floor(d/2),h=d-a,n&&a===h&&(a--,h++);for(var v=e,m=0;m<h;v++,m++)l=r(v,o),p=t[l],p.$index=l,c.push(p);for(var _=e-1,w=0;w<a;_--,w++)l=r(_,o),p=t[l],p.$index=l,f.push(p);return u.list=f.reverse().concat(c),u.after=c,u.before=f,u}Object.defineProperty(e,"__esModule",{value:!0});var l=i(3),p=i(4),u=i(5),d=s(u),c=i(6),f=s(c),v=i(7),m=(s(v),{x:"X",y:"Y"}),_=function(){function t(t,e){this.opts=d.default.extend({},this.defOpts),this.opts=d.default.extend(this.opts,e),this.$events=new this.opts.EventEmitter,this.$holder=t,this.$list=null,this.$listHolder=null,this.active=0,this.activeId=0,this.nav={prev:!1,next:!1},this.isSimple=null,this.visible=0,this.addition=0,this.items=[],this.partialItems=[],this._partialItemsBefore=[],this._partialItemsAfter=[],this.holderSize=null,this.itemSize=null,this.offsetLeft=0,this._transformProperty="",this._translateZ="",this.changesTracker=new this.opts.ChangesTracker(this.$list,{trackById:this.opts.uniqueKeyProp,beforeAdd:this._addItemPre.bind(this),afterAdd:this._addItemPost.bind(this),beforeRemove:this._removeItemPre.bind(this),afterRemove:this._removeItemPost.bind(this)}),this._isBusy=!1}return t.prototype.defOpts={type:m.x,uniqueKeyProp:"id",EventEmitter:p.EventEmitter,ChangesTracker:f.default},t.prototype.init=function(t){this.$holder=t?t:this.$holder,this.$list=this.$holder.querySelector("ul"),this.$listHolder=this.$list?this.$list.parentNode:null,this._transformProperty=d.default.getPrefixedStyleValue("transform"),this._translateZ=d.default.supportsPerspective()?"translateZ(0)":"",this.changesTracker.init(this.$list),this._attachHandlers(),this.resize()},t.prototype.resize=function(){this._fetchElementsSize(),this._calculateVisibility(),this._updateVisible(),this._centerList(),this._notifyNavChange()},t.prototype.updateItems=function(t,e){this.items=t&&t.length?t:[];var i=this.active;this.active=e||0,this._fetchElementsSize(),this._calculateVisibility(),this._updateVisible(),this._centerList(),this._notifyActiveChange(this.active,!0,i,0),this._notifyNavChange()},t.prototype._fetchElementsSize=function(){if(this.$list&&this.$listHolder){var t=this.opts.type===m.x?"clientWidth":"clientHeight";this.holderSize=this.$listHolder?this.$listHolder[t]:null;var e=this.$list?this.$list.querySelector("li"):null;e?this.itemSize=e[t]:(e=d.default.appendElement(this.$list,'<li class="item"></li>'),this.itemSize=e[t],this.$list.removeChild(e))}},t.prototype._calculateVisibility=function(){var t=!0,e=0,i=0,s=this.items.length;e=Math.floor(this.holderSize/this.itemSize)+1,e%2===0&&e++,e=Math.min(s,e),3*e>=s?t=!0:(t=!1,i=e),this.isSimple=t,this.visible=e,this.addition=i},t.prototype._updateVisible=function(){var e=t.utils.getPartialItems(this.items,this.active,this.visible,this.addition,this.isSimple);this.partialItems=e.list,this._partialItemsBefore=e.before,this._partialItemsAfter=e.after,this.changesTracker.updateList(this.partialItems)},t.prototype._centerList=function(){var t=(this.active,this.visible,this.addition,this._calculateOffset());this._setOffset(t)},t.prototype._notifyActiveChange=function(e,i,s,n){if(this.active!==e||i){var r=t.utils.globalToPartialIndex(s,0,this.items.length,this.partialItems.length,this.isSimple),o=t.utils.globalToPartialIndex(e,0,this.items.length,this.partialItems.length,this.isSimple);this.$events.emit("changeActiveBefore",{oldActive:s,newActive:e,$oldActiveItem:this.$list.children[r],$newActiveItem:this.$list.children[o],dir:n||0});var a=this.items[e];a&&this.$events.emit("activeChange",{index:e,id:a[this.opts.uniqueKeyProp]})}},t.prototype._notifyNavChange=function(){var t=this._getMaxSlideCount(1)>0,e=this._getMaxSlideCount(-1)>0;this.nav.prev===e&&this.nav.next===t||(this.nav.prev=e,this.nav.next=t,this.$events.emit("navChange",{prev:this.nav.prev,next:this.nav.next}))},t.prototype._setOffset=function(t,e){this.$list.style[this._transformProperty]="translate"+this.opts.type+"("+t+"px) "+this._translateZ,e||(this.offsetLeft=t)},t.prototype._getOffset=function(){return this.offsetLeft},t.prototype._calculateOffset=function(e){var i,s;return s=this.isSimple?t.utils.globalToPartialIndex(this.active,0,this.items.length,this.partialItems.length,this.isSimple):t.utils.globalToPartialIndex(0,0,this.items.length,this.partialItems.length,this.isSimple),s<0?this._getOffset():(i=this.holderSize/2-this.itemSize/2-s*this.itemSize,e&&(i-=e*this.itemSize),i)},t.prototype.slideToIndex=function(e){var i=t.utils.globalToPartialIndex(this.active,0,this.items.length,this.partialItems.length,this.isSimple),s=t.utils.globalToPartialIndex(e,0,this.items.length,this.partialItems.length,this.isSimple);if(i<0||s<0)return l.Promise.resolve();var n=s>i?1:-1,r=Math.abs(s-i);return this.slideToDir(n,r)},t.prototype.slideToDir=function(e,i,s){var n=1;if("number"==typeof i&&(n=i),this._isBusy)return l.Promise.reject();var r=this._getMaxSlideCount(e);n>r&&(n=r);var o=this.active+e*n;if(o=t.utils.normalizeIndex(o,this.items.length),o===this.active)return l.Promise.resolve();var a=this._getOffset(),h=this._calculateOffset(e*n),p=s?0:500;return this._isBusy=!0,d.default.supportsTransitions()&&this._notifyActiveChange(o,!1,this.active,e),this._animateOffset(a,h,p).then(function(){d.default.supportsTransitions()||this._notifyActiveChange(o,!1,this.active,e),this._isBusy=!1;var i=this.active;this.active=o,this._notifyNavChange(),this._setOffset(h),this._updateVisible(),this._centerList();var s=t.utils.globalToPartialIndex(i,0,this.items.length,this.partialItems.length,this.isSimple),n=t.utils.globalToPartialIndex(this.active,0,this.items.length,this.partialItems.length,this.isSimple);this.$events.emit("changeActiveAfter",{oldActive:i,newActive:this.active,$oldActiveItem:this.$list.children[s],$newActiveItem:this.$list.children[n],dir:e})}.bind(this)).catch(function(t){console.error(t)})},t.prototype._animateOffset=function(t,e,i){function s(t,e,i,s,h,l){var p=e-i;n({duration:s,step:function(e){var s=i+p*e;t.style[r]="translate"+a+"("+s+"px) "+o},complete:h})}function n(t){var e=Date.now();t.easing=t.easing||function(t){return t},t.duration=t.duration||300,t.complete=t.complete||function(){};var i=setInterval(function(){var s=Date.now()-e,n=s/t.duration;n>1&&(n=1);var r=t.easing(n);t.step(r),1===n&&(clearInterval(i),t.complete())},t.delay||10)}var r=this._transformProperty,o=this._translateZ,a=this.opts.type;return new l.Promise(function(n,r){i?d.default.supportsTransitions()?d.default.animateCss(this.$list,{transform:"translate"+a+"("+e+"px) "+o},{duration:i,onComplete:n}):s(this.$list,e,t,i,n):(this._setOffset(e,!0),n())}.bind(this))},t.prototype._getMaxSlideCount=function(e){var i;if(this.isSimple){var s=t.utils.globalToPartialIndex(this.active,0,this.items.length,this.partialItems.length,this.isSimple);i=e>0?this.items.length-s-1:s}else i=this.visible;return i},t.prototype._addItemPre=function(t,e){e=e||function(){};var i=this._getItemTemplate(t),s=d.default.createElement(i);e(s)},t.prototype._addItemPost=function(t,e){},t.prototype._removeItemPre=function(t,e,i){(i=i||function(){})()},t.prototype._removeItemPost=function(t){},t.prototype._getItemTemplate=function(t){var e=this.opts.uniqueKeyProp;return'<li class="lc-item" data-id="'+t[e]+'">'+t[e]+"</li>"},t.prototype._attachHandlers=function(){window.addEventListener("resize",this,!1),window.addEventListener("orientationchange",this,!1),window.addEventListener("msOrientationChange",this,!1),window.addEventListener("mozOrientationChange",this,!1),window.addEventListener("webkitOrientationChange",this,!1)},t.prototype._detachHandlers=function(){window.removeEventListener("resize",this,!1),window.removeEventListener("orientationchange",this,!1),window.removeEventListener("msOrientationChange",this,!1),window.removeEventListener("mozOrientationChange",this,!1),window.removeEventListener("webkitOrientationChange",this,!1)},t.prototype.handleEvent=function(t){switch(t.type){case"resize":case"orientationchange":case"msOrientationChange":case"mozOrientationChange":case"webkitOrientationChange":this._resizeHandler(t)}},t.prototype._resizeHandler=function(t){this.resize()},t.prototype.destroy=function(){this._detachHandlers()},t.create=function(e,i){var s=new t(e,i);return s.init(),s},t.type=m,t}();_.utils={getItemInfoById:n,normalizeIndex:r,globalToPartialIndex:o,partialToGlobalIndex:a,getPartialItems:h},e.default=_},function(e,i){e.exports=t},function(t,e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function s(t){return"function"==typeof t}function n(t){return"number"==typeof t}function r(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!n(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,i,n,a,h,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var p=new Error('Uncaught, unspecified "error" event. ('+e+")");throw p.context=e,p}if(i=this._events[t],o(i))return!1;if(s(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),i.apply(this,a)}else if(r(i))for(a=Array.prototype.slice.call(arguments,1),l=i.slice(),n=l.length,h=0;h<n;h++)l[h].apply(this,a);return!0},i.prototype.addListener=function(t,e){var n;if(!s(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,s(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(n=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function i(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}if(!s(e))throw TypeError("listener must be a function");var n=!1;return i.listener=e,this.on(t,i),this},i.prototype.removeListener=function(t,e){var i,n,o,a;if(!s(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=this._events[t],o=i.length,n=-1,i===e||s(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(i)){for(a=o;a-- >0;)if(i[a]===e||i[a].listener&&i[a].listener===e){n=a;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[t],s(i))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?s(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(s(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,i){t.exports=e},function(t,e){"use strict";function i(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}function s(t){var e="undefined"==typeof t?"undefined":h(t);return"function"===e||"object"===e&&!!t}function n(t){return Object.prototype.toString.call(t)==="[object "+name+"]"}function r(t,e,s){var o,a,l,p,u,d=t||{},c=(arguments.length,s),f=e;"object"===("undefined"==typeof d?"undefined":h(d))||n(d)||(d={});for(p in f)if(e.hasOwnProperty(p)){if(o=d[p],l=f[p],d===l)continue;c&&l&&(a=i(l))?(a?(a=!1,u=o&&i(o)?o:[]):u=o?o:{},d[p]=r(u,l,c)):void 0!==l&&(d[p]=l)}return d}function o(t){if(s(t))return t;var e=document.createDocumentFragment(),i=document.createElement("div");for(i.innerHTML=t;i.childNodes[0];)e.appendChild(i.childNodes[0]);return e.childNodes[0]}function a(t,e,i){var s=e||i.parentNode;i&&(!i||i.parentNode||i.previousElementSibling||(i=null)),t=o(t),i?i.parentNode.insertBefore(t,i.nextSibling):s.insertBefore(t,s.firstChild)}Object.defineProperty(e,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l="$$MY_NG_REMOVED",p=function(){function t(t,e){this.opts=r({},this.defOpts),this.opts=r(this.opts,e),this.$element=t,this.$startComment=null,this.lastBlockMap=null,t&&this.init()}return t.prototype.defOpts={debug:!1,trackById:"id",trackByIdFn:function(t,e,i,s){return e[s]},beforeAdd:function(t,e){e=e||function(){};var i=o("<li>"+t.id+"</li>");e(i)},afterAdd:function(t,e){},beforeRemove:function(t,e,i){(i=i||function(){})()},afterRemove:function(t){}},t.prototype.init=function(t){for(t&&(this.$element=t);this.$element.firstChild;)this.$element.removeChild(this.$element.firstChild);this.$startComment=window.document.createComment(""),this.$element.appendChild(this.$startComment),this.lastBlockMap=Object.create(null)},t.prototype.updateList=function(t){var e,i,s,n,r,o,h,p,u=this.$startComment,d=Object.create(null),c=[];for(s=t.length,i=new Array(s),n=0;n<s;n++)if(r=n,o=t[r],h=this.opts.trackByIdFn(r,o,n,this.opts.trackById),this.lastBlockMap[h])p=this.lastBlockMap[h],delete this.lastBlockMap[h],d[h]=p,i[n]=p;else{if(d[h])throw i.forEach(function(t){t&&t.data&&(this.lastBlockMap[t.id]=t)}.bind(this)),new Error("Duplicates in a repeater are not allowed");i[n]={id:h,data:void 0,element:void 0},d[h]=!0}for(var f in this.lastBlockMap)this.lastBlockMap.hasOwnProperty&&!this.lastBlockMap.hasOwnProperty(f)||(p=this.lastBlockMap[f],c.push(p),p.element.parentNode&&(p.element[l]=!0));for(n=0;n<s;n++)if(r=n,o=t[r],p=i[n],p.data){e=u;do e=e.nextSibling;while(e&&e[l]);p.element!==e&&a(p.element,null,u),u=p.element}else p.data=o,this.opts.beforeAdd(p.data,function(t){a(t,null,u),this.opts.afterAdd(p.data,t),u=t,p.element=t,d[p.id]=p}.bind(this));this.lastBlockMap=d;for(var v=0,m=c.length;v<m;v++)p=c[v],this.opts.beforeRemove(p.data,p.element,function(){this.$element.removeChild(p.element),this.opts.afterRemove(p.data),p=p.data=p.element=null}.bind(this));c=null},t}();e.default=p},function(t,e){},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t){var e={type:a.x,supportMouse:!1,supportTouch:!0,deceleration:6e-4,nextSlideRatio:.15,speedRatio:1,animateMinPx:3};return function(i){function s(t){var e=t.originalEvent||t,i=e.touches&&e.touches.length?e.touches:[e],s=e.changedTouches&&e.changedTouches[0]||i[0];return{x:s.clientX,y:s.clientY}}function n(t,e){var i=t.x-e.x,s=t.y-e.y,n=Math.abs(i),r=Math.abs(s);return n<20&&r<20?null:n>r?i>0?"left":"right":s>0?"up":"down"}function r(t,e,i,s){var n=t-e,r=Math.abs(n)/i;return Math.abs(n)+r*r/(2*s)}var h=i._attachHandlers.bind(i),l=i._detachHandlers.bind(i),p=o.default.extend({},e);p=o.default.extend(p,t),i.__swipeDecorator=!0,i.swipe={},i.swipe.opts=p,i.swipe._isActive=!1,i.swipe._preventSwipe=null,i.swipe._dir=1,i.swipe._offset=0,i.swipe._offsetTarget=0,i.swipe._amplitude=0,i.swipe._targetCount=0,i.swipe._initPos={},i.swipe._startPos={},i.swipe._startTime=0,i.swipe._endTime=0,i.swipe._animateTime=0,i._attachHandlers=function(){h(),this.swipe.opts.supportTouch&&(this.$list.parentNode.addEventListener("touchstart",u,!1),this.$list.parentNode.addEventListener("touchmove",d,!1),this.$list.parentNode.addEventListener("touchend",c,!1),this.$list.parentNode.addEventListener("touchcancel",c,!1)),this.swipe.opts.supportMouse&&(this.$list.parentNode.addEventListener("mousedown",u,!1),this.$list.parentNode.addEventListener("mousemove",d,!1),this.$list.parentNode.addEventListener("mouseup",c,!1),this.$list.parentNode.addEventListener("mouseleave",c,!1))}.bind(i),i._detachHandlers=function(){l(),this.swipe.opts.supportTouch&&(this.$list.parentNode.removeEventListener("touchstart",u,!1),this.$list.parentNode.removeEventListener("touchmove",d,!1),this.$list.parentNode.removeEventListener("touchend",c,!1),this.$list.parentNode.removeEventListener("touchcancel",c,!1)),this.swipe.opts.supportMouse&&(this.$list.parentNode.removeEventListener("mousedown",u,!1),this.$list.parentNode.removeEventListener("mousemove",d,!1),this.$list.parentNode.removeEventListener("mouseup",c,!1),this.$list.parentNode.removeEventListener("mouseleave",c,!1))}.bind(i);var u=function(t){this._isBusy||(this.swipe._isActive=!0,this.swipe._preventSwipe=null,this.swipe._initPos=s(t),this.swipe._offset=this._getOffset(),this.swipe._amplitude=0,this.swipe._startPos=this.swipe._initPos,i.swipe._startTime=Date.now())}.bind(i),d=function(t){if(this.swipe._isActive){var e,i,r=s(t),o=this.swipe.opts.type.toLowerCase();if(null===this.swipe._preventSwipe){var h=n(this.swipe._initPos,r,this.swipe.opts.type);if(null===h)return;if(this.swipe.opts.type===a.x&&("up"===h||"down"===h))return this.swipe._isActive=!1,void(this.swipe._preventSwipe=!0);if(this.swipe.opts.type===a.y&&("left"===h||"right"===h))return this.swipe._isActive=!1,void(this.swipe._preventSwipe=!0);this.swipe._preventSwipe=!1}t.preventDefault(),t.stopPropagation(),i=this._getOffset()+r[o]-this.swipe._initPos[o],this._setOffset(i,!0),this.swipe._offset=i,e=Date.now(),e-this.swipe._startTime>300&&(this.swipe._startTime=e,this.swipe._startPos=r)}}.bind(i),c=function(t){if(this.swipe._isActive){if(null===this.swipe._preventSwipe||this.swipe._preventSwipe===!0)return this.swipe._isActive=!1,this.swipe._preventSwipe=null,void(this._isBusy=!1);var e=s(t),i=this.swipe.opts.type.toLowerCase();this.swipe._isActive=!1,this.swipe._preventSwipe=null,this.swipe._dir=1,e[i]>this.swipe._initPos[i]&&(this.swipe._dir=-1),this.__calculateSwipeCount(e),this.swipe._offsetTarget=this._calculateOffset(this.swipe._dir*this.swipe._targetCount),this.swipe._amplitude=this.swipe._offsetTarget-this.swipe._offset,this.swipe._endTime=Date.now(),requestAnimationFrame(this.__animate.bind(this))}}.bind(i);return i.__calculateSwipeCount=function(t){var e,s,n=this.swipe.opts.type.toLowerCase(),o=this._getMaxSlideCount(this.swipe._dir),a=Date.now(),h=a-this.swipe._startTime;return e=h<300?r(t[n],this.swipe._startPos[n],h,i.swipe.opts.deceleration):Math.abs(t[n]-this.swipe._initPos[n]),s=e/h,this.swipe._animateTime=e/s,this.swipe._targetCount=e*-this.swipe._dir/this.itemSize,Math.abs(this.swipe._targetCount)<1?Math.abs(this.swipe._targetCount)-Math.floor(Math.abs(this.swipe._targetCount))<i.swipe.opts.nextSlideRatio?this.swipe._targetCount=0:this.swipe._targetCount=1:this.swipe._targetCount=Math.round(Math.abs(this.swipe._targetCount)),this.swipe._targetCount>o&&(this.swipe._targetCount=o),this.swipe._targetCount}.bind(i),i.__animate=function(){var t,e,i,s=this.swipe.opts.animateMinPx;this.swipe._amplitude&&(t=Date.now(),e=t-this.swipe._endTime,i=-this.swipe._amplitude*Math.exp(-e/(this.swipe._animateTime*this.swipe.opts.speedRatio)),i>s||i<-s?(this._setOffset(this.swipe._offsetTarget+i,!0),requestAnimationFrame(this.__animate.bind(this)),this._isBusy=!0):(this._isBusy=!1,this._setOffset(this.swipe._offsetTarget,!0),this.slideToDir(this.swipe._dir,this.swipe._targetCount,!0)))}.bind(i),i}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r=i(5),o=s(r),a={x:"X",y:"Y"};n.type=a},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t){return function(t){var e=t._attachHandlers.bind(t),i=t._detachHandlers.bind(t);t.__keyHandlerDecorator=!0,t._attachHandlers=function(){e(),document.addEventListener("keyup",s,!1)},t._detachHandlers=function(){i(),document.removeEventListener("keyup",s,!1)};var s=function(t){var e=t.which||t.keyCode;if(39===e||37===e){var i=1;37===e&&(i=-1),this.slideToDir(i)}}.bind(t);return t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r=i(5);s(r)}])});